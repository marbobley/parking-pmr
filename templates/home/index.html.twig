{% extends 'base.html.twig' %}

{% block title %}Parkings PMR - Carte{% endblock %}

{% block body %}
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6myHzS10YXdcazAFalmXvDkrYCp5cLc8&libraries=maps,marker&v=weekly"
        defer></script>
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="container py-4">
    <h1 class="h3 mb-3">{{ controller_name }}</h1>

    <div id="map" style="width: 100%; height: 400px; background: #e9ecef;" class="mb-3">
        <gmp-map
            center="43.59732,3.9011931"
            zoom="10"
            map-id="DEMO_MAP_ID"
            style="height: 500px"></gmp-map>
    </div>

    <h2 class="h5">Parkings chargés</h2>
    {% if parkings is defined and parkings|length > 0 %}
        <ul>
            {% for p in parkings %}
                <li>
                    {{ p.label ?? 'Parking' }} ({{ p.latitude }}, {{ p.longitude }})
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-muted">Aucun parking à afficher pour le moment. Configurez l'URL de l'API pour commencer.</p>
    {% endif %}
</div>
{% endblock %}
